<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>reveal.js – The HTML Presentation Framework</title>

		<meta name="description" content="A framework for easily creating beautiful presentations using HTML">
		<meta name="author" content="Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<p>
							<img src="images/elixir.png" alt="">
					</p>					
					<h3>Erick Camacho @ecamacho</h3>
					<h3>#OctoberTalks17</h3>
				</section>

				<section>
					<h2>¿Quién Soy?</h2>
					<ul>
						<li>Google Developer Expert</li>
						<li>Coorganizador NSCoder</li>
						<li>Mobile Engineering Manager en Incode</li>						
					</ul>
				</section>

				
					<section>
						<h2>¿Por qué estamos aquí?</h2>						
					</section>
					<section>
						<h2>The free lunch is over:</h2>
						<p>A Fundamental Turn Toward Concurrency in Software.</p>
						<p>Herb Sutter Marzo 2005</p>
					</section>
					<section>
						<blockquote>"Aproximadamente cada dos años se duplica el número de transistores en un microprocesador."</blockquote>
						<p>Gordon Moore 1965</p>
					</section>
					<section style="height:fit-content !important">
						<img src="images/cpu.png"  alt="">
					</section>
					<section>
						<blockquote>Las aplicaciones necesitarán ser concurrentes si quieren beneficiarse de las mejoras en los procesadores.</blockquote>
						<p>Herb Sutter Marzo 2005</p>
					</section>

				<section>
					<h2>¿Por qué Elixir?</h2>					
				</section>
				<section>
					<img src="images/erlang.png" alt="">
				</section>

				<section>
					<h2>Erlang / OTP</h2>
					<ul>
						<li>Creado en 1986</li>
						<li>Sistemas distribuidos y concurrentes</li>
						<li>Tolerancia a fallos</li>
						<li>Alta disponibilidad</li>
					</ul>
				</section>

				<section>
					<h2>Elixir</h2>
					<ul>
						<li>José Valim ~2012</li>
						<li>Funcional</li>
						<li>Concurrente</li>
						<li>Productivo</li>
					</ul>
				</section>

				<section>
					<h2>Empecemos</h2>
					<p class="fragment">Instala elixir</p>
					<p class="fragment"><a href="https://elixir-lang.org/install.html">https://elixir-lang.org/install.html</a></p>
				</section>

				<section>
					<h2>iex - el shell de Elixir</h2>
					<pre><code class="hljs" data-trim contenteditable>
						iex
					</code></pre>
					<pre><code class="hljs" data-trim contenteditable>
						IO.puts("Hola, OctoberTalks!")
					</code>
				</section>

				<section>
					<h2>Tipos de datos</h2>
					<ul>
						<li>Enteros</li>
						<li>Flotantes</li>
						<li>Strings</li>
						<li>Átomos</li>						
					</ul>
				</section>
			
				<section>
					<h2>Colecciones</h2>
					<p class="fragment">Listas</p>
					<p class="fragment">Tuplas</p>
					<p class="fragment">Mapas</p>
					<p class="fragment">Keyword Lists</p>
				</section>

				<section>
					<h2>Funciones anónimas</h2>
					<p class="fragment">
							<pre><code class="hljs" data-trim contenteditable>
								iex> suma = fn(a, b) -> a + b end
								iex> suma.(1,2)
							</code></pre>

					</p>
					<p class="fragment">
							<pre><code class="hljs" data-trim contenteditable>
									iex> resta = &(&1 - &2)
									iex> resta.(10,2)
								</code></pre>
					</p>
				</section>				

				<section>
					<h2>Hagamos un proyecto</h2>
					<pre><code class="hljs" data-trim contenteditable>
					mix new october_talks
					</code></pre>
				</section>
				<section>
					<h2>Módulos y funciones nombradas</h2>
					<pre><code class="hljs" data-trim contenteditable>
					defmodule OctoberTalks do
						def es_par?(n) do
							false
						end
					end
						</code></pre>
				</section>
				<section>
					<h2>Pruebas unitarias con ExUnit</h2>
					<pre><code class="hljs" data-trim contenteditable>
						defmodule OctoberTalksTest do
							use ExUnit.Case
							doctest OctoberTalks
																										
							test "el 2 es par" do
								assert OctoberTalks.es_par?(2) == true
							end
						
							test "el 301 no es par" do
								assert OctoberTalks.es_par?(3) == false
							end												
						end
				</code></pre>
				</section>
				<section>
					<h2>Guardias</h2>
					<pre><code class="hljs" data-trim contenteditable>
						defp par?(n) when rem(n, 2) == 0 do
							true
						end
					
						defp par?(n) do
							false
						end
					</code></pre>
				</section>
				<section>
					<h2>
						Operaciones con colecciones
					</h2>
					<pre><code class="hljs" data-trim contenteditable>
						def solo_pares_ordenados(lista) do
							lista
						end
					</code></pre>
					<pre><code class="hljs" data-trim contenteditable>
							test "solo 200 y 1004 son pares" do
								assert OctoberTalks.solo_pares([3, 903, 1004, 9999, 200]) == [200, 1004]
							end	
						</code></pre>
				</section>
				<section>
					<h2>El operador Pipe</h2>
					<pre><code class="hljs" data-trim contenteditable>
							def solo_pares_ordenados(lista) do
							lista
							|> Enum.filter( fn(n) -> es_par?(n) end)
							|> Enum.sort
						end
				</code></pre>
				</section>
				<section>
					<h2>Un caso real</h2>
					<p>Descarga este dataset</p>
					<p>
						<a href="https://goo.gl/48PJs3">https://goo.gl/48PJs3</a>
					</p>
				</section>
				<section>
					<h2>Trabajando con archivos</h2>
					<pre><code class="hljs" data-trim contenteditable>
						def open_teams_file do
							result = File.open("data/noexiste.csv")
							result
						end
				</code></pre>
				</section>
				<section>
					<h2>
						Pattern matching
					</h2>
					<pre><code class="hljs" data-trim contenteditable>
						def open_teams_file do
							case File.open("data/team.csv") do
								{:error, _} -> :no_existe
								{:ok, _} -> :existe
							end
						end	
					</code></pre>
				</section>

				<section>
					<h2>Ahora queremos un Mapa con los equipos y su identificador</h2>
					<ul>
						<li>La clave será el id del equipo</li>
						<li>El valor será el nombre del equipo</li>
					</ul>
				</section>
				<section>
					<ol>
						<li>Recorrer línea a línea el archivo</li>
						<li>Descartar la primera línea</li>
						<li>Dividir los valores por comas</li>
						<li>Tomar sólo el id y el nombre del equipo</li>
						<li>Devolver un Mapa</li>
					</ol>
				</section>
				<section>
					<h2>Map - Reduce</h2>
					<img src="images/mapreduce.png" alt="">
				</section>
				<section>
					<pre><code class="hljs" data-trim contenteditable>
						def get_teams do
							File.stream!("data/team.csv")
							|> Stream.drop(1)
							|> Stream.map(fn(linea) -> String.split(linea, ",") end)            
							|> Enum.reduce(Map.new, fn(values, map) -> add_team_to_map(map, values) end)    
						end
					
						defp add_team_to_map(map, values) do
							Map.put(map, Enum.at(values, 1), String.replace(Enum.at(values, 3), "\"",""))
						end
				</code></pre>
				</section>
				<section>
					<pre><code class="hljs" data-trim contenteditable>
						test "Podemos encontrar a Juventus" do  
							assert Map.get(OctoberTalks.Futbol.get_teams, "9885") == "Juventus"
						end
					</code></pre>
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
